<!DOCTYPE html>
<html>

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <style>
        body {
            background-color: gray;
        }

        .Background.Rectangle {

            /* Backlines Rectangle */


            position: absolute;
            width: 471px;
            height: 153px;
            left: 61px;
            top: 52px;
            background: #ece8e8;
            border: 2px solid #000000;
        }

        .Background.Line {
            position: absolute;
            width: 471px;
            height: 0px;
            left: 62px;
            top: 129.76px;

            border: 1px solid #000000;
            z-index: 2;
        }

        .ShotsOnGoal {
            /* SOG Text */


            position: absolute;
            width: 81px;
            height: 28px;
            left: 442px;
            top: 81px;

            font-family: 'Poppins';
            font-style: normal;
            font-weight: 600;
            font-size: 36px;
            line-height: 54px;
            display: flex;
            align-items: center;
            text-align: center;

            color: #FFFFFF;
            z-index: 3;

        }

        .Team1.Background {
            /* Team 1 Background */


            position: absolute;
            width: 471px;
            height: 76px;
            left: 63px;
            top: 54px;

            background: #182857;
        }



        .Team1.Logo {
            position: absolute;
            width: 82px;
            height: 71px;
            left: 10px;
            top: 3px;
            object-fit: contain;

            background: url(Wildcat_Hockey_Blue.png);
        }


        .Name {

            /* Team 1 Name */


            position: absolute;
            width: 140px;
            height: 76px;
            left: 104px;
            bottom: -55px;

            font-family: 'Poppins';
            font-style: normal;
            font-weight: 600;
            font-size: 64px;
            line-height: 96px;
            align-items: center;
            text-align: center;

            color: #FFFFFF;

        }

        .Score {

            /* Team 1 Score */


            position: absolute;
            width: 107px;
            height: 76px;
            left: 257px;
            bottom: -55px;
            font-family: 'Poppins';
            font-style: normal;
            font-weight: 600;
            font-size: 64px;
            line-height: 96px;
            align-items: center;
            text-align: center;

            color: #FFFFFF;

        }

        .SOG {
            /* Team 1 SOG */


            position: absolute;
            width: 107px;
            height: 75px;
            left: 364px;
            top: -13px;

            padding: auto;

            font-family: 'Poppins';
            font-style: normal;
            font-weight: 600;
            font-size: 36px;
            line-height: 36px;
            align-items: center;
            text-align: center;


            color: #FFFFFF;

        }

        .Team2.Background {
            /* Team 2 Background */


            position: absolute;
            width: 471px;
            height: 76px;
            left: 63px;
            top: 131px;

            background: #D5160C;
        }

        .Team2.Logo {
            /* Team 2 Logo */


            position: absolute;
            width: 82px;
            height: 71px;
            left: 10px;
            top: 3px;
            object-fit: contain;

            background: url(Davenport_Panthers_logo.png);
        }

        .Team1PP.Background {
            /* Team 1 Powerplay */


            position: absolute;
            width: 213px;
            height: 22px;
            left: 319px;
            top: 28px;

            background: #182857;
            border: 2px solid #000000;

        }

        .Team2PP.Background {
            /* Team 1 Powerplay */


            position: absolute;
            width: 213px;
            height: 22px;
            left: 319px;
            top: 207px;

            background: #D5160C;
            border: 2px solid #000000;

        }

        .PPText {
            /* Team 1 PP/TO Text */


            position: absolute;
            width: 161px;
            height: 37px;
            top: -26px;
            left: 3px;

            font-family: 'Poppins';
            font-style: normal;
            font-weight: 600;
            font-size: 22px;
            line-height: 30px;
            align-items: left;
            text-transform: uppercase;

            color: #FFFFFF;


        }

        .PPTime {
            /* Team 1 Time */


            position: absolute;
            width: 64px;
            height: 37px;
            top: -26px;
            right: -14px;

            font-family: 'Poppins';
            font-style: normal;
            font-weight: 500;
            font-size: 22px;
            line-height: 30px;
            text-align: left;

            color: #FFFFFF;

        }

        .TeamGradient {
            position: absolute;
            width: 471px;
            height: 76px;

            background: linear-gradient(89.94deg, rgba(0, 0, 0, 0.51) 0.06%, rgba(0, 0, 0, 0) 99.95%);
        }

        .SecondGradient {
            position: absolute;
            width: 214px;
            height: 76px;
            left: 257px;

            background: rgba(0, 0, 0, 0.42);
        }

        .ThirdGradient {
            position: absolute;
            width: 107px;
            height: 76px;
            left: 364px;

            background: rgba(0, 0, 0, 0.42);
        }

        .Time.Background {

            /* Backlines Rectangle */


            position: absolute;
            width: 135px;
            height: 153px;
            left: 544px;
            top: 52px;
            background: #3A3A3A;
            border: 2px solid #000000;
        }

        .Time.Line {
            position: absolute;
            width: 135px;
            height: 0px;
            left: 544px;
            top: 129.76px;

            border: 1px solid #000000;
            z-index: 2;
        }

        .Time.Period {
            position: absolute;
            width: 134px;
            height: 74px;
            left: 546px;
            top: 7px;

            font-family: 'Poppins';
            font-style: normal;
            font-weight: 600;
            font-size: 48px;
            line-height: 72px;
            align-items: center;
            text-align: center;
            color: #FFFFFF;
            text-transform: uppercase;
        }

        .Time.Timer {
            position: absolute;
            width: 134px;
            height: 76px;
            left: 546px;
            top: 85px;

            font-family: 'Poppins';
            font-style: normal;
            font-weight: 400;
            font-size: 48px;
            line-height: 72px;
            align-items: center;
            text-align: center;

            color: #FFFFFF;
        }



        .ShootOut.Banner {

            position: absolute;
            width: 256px;
            height: 22px;
            left: 61px;
            top: 28px;

            background: #3A3A3A;
            border: 2px solid #000000;

        }

        .ShootOut.Text {

            position: absolute;
            width: 256px;
            height: 22px;
            left: 0px;
            top: -26px;

            font-family: 'Poppins';
            font-style: normal;
            font-weight: 600;
            font-size: 22px;
            line-height: 30px;
            align-items: center;
            text-transform: uppercase;
            text-align: center;

            color: #FFFFFF;

        }
    </style>
</head>


<!--Team 1 PP/TO-->
<div class="Team1PP Background" id="team1PPBackground">
    <p class="PPText" id="team1PPTextDisplay">POWERPLAY</p>
    <p class="PPTime" id="team1PPTimeDisplay">0:00</p>
</div>

<!--Team 2 PP/TO-->
<div class="Team2PP Background" id="team2PPBackground">
    <p class="PPText" id="team2PPTextDisplay">TIMEOUT</p>
    <p class="PPTime" id="team2PPTimeDisplay">0:30</p>
</div>


<div class="Background Rectangle"></div>
<div class="Background Line"></div>

<div class="Team2 Background"></div>
<p class="ShotsOnGoal">SOG</p>

<!-- Team 1 Info-->
<div class="Team1 Background" id="team1Background">
    <div class="TeamGradient"></div>
    <div class="SecondGradient"></div>
    <div class="ThirdGradient"></div>
    <img class="Team1 Logo" id="team1LogoDisplay" src="https://i.imgur.com/Fy5eWFM.png" alt="Team 1 Logo">
    <p class="Name" id="team1NameDisplay">XXX</p>
    <p class="Score" id="team1ScoreDisplay">99</p>
    <p class="SOG" id="team1SOGDisplay">999</p>
</div>



<!--Team 2 Info-->
<div class="Team2 Background" id="team2Background">
    <div class="TeamGradient"></div>
    <div class="SecondGradient"></div>
    <div class="ThirdGradient"></div>
    <img class="Team2 Logo" id="team2LogoDisplay" alt="Team 2 Logo" src="https://i.imgur.com/gstBKAg.png">
    <!--Have images uploaded on Imgur or another direct link-->
    <p class="Name" id="team2NameDisplay">XXX</p>
    <p class="Score" id="team2ScoreDisplay">99</p>
    <p class="SOG" id="team2SOGDisplay">999</p>
</div>

<!--Time Info-->
<div class="Time Background" id="TimingInfo"></div>
<div class="Time Line"></div>
<p class="Time Period" id="CurrentPeriodDisplay">2nd</p>
<p class="Time Timer" id="MainTimer">19:59</p>

<!--Shootout-->
<div class="ShootOut Background" id="ShootoutInfo">


    <!--Circle code is &#9679; -->
</div>

<div class="ShootOut Banner" id="ShootoutBanner"style="display: none;">

    <p class="ShootOut Text">Shootout</p>

</div>




<script>

connect();
    function connect() {

        sock = new WebSocket("ws://localhost:1337");
        sock.onopen = function () {
            console.log("Connected to HockeyHelper");
        };

        sock.onclose = function (e) {
            console.log("Socket is closed. Reconnect attempt in 1 second");
            setTimeout(function () {
                connect();
            }, 1000);
        }

        sock.onerror = function (err) {
            console.log(err);
            sock.close();
        }
        sock.onmessage = function (msg) {
            let data = JSON.parse(msg.data);
            console.log(data);

            if (data.Event == "UpdateData") {
                //Pull data
                Map0 = data.Data.Map0;
                team1Name = data.Data.team1Name;
                team1Score = data.Data.team1Score;
                team1SOG = data.Data.team1SOG;
                team1Color = data.Data.team1Color;
                team1Logo = data.Data.team1Logo;

                team2Name = data.Data.team2Name;
                team2Score = data.Data.team2Score;
                team2SOG = data.Data.team2SOG;
                team2Color = data.Data.team2Color;
                team2Logo = data.Data.team2Logo;

                //temp, will be sent in different event
                team1PPStatus = data.Data.team1PPStatus;
                team2PPStatus = data.Data.team2PPStatus;
                CurrentPeriod = data.Data.CurrentPeriod;

                ShootOutActive = data.Data.ShootOutActive;
                SOteam1One = data.Data.SOteam1One;
                SOteam1Two = data.Data.SOteam1Two;
                SOteam1Three = data.Data.SOteam1Three;




                teamTextDeploy();

            }
        }
    }

    



    function teamTextDeploy() {

        //Setting Text
        team1NameDisplay.innerText = team1Name;
        team1ScoreDisplay.innerText = team1Score;
        team1SOGDisplay.innerText = team1SOG;
        team2NameDisplay.innerText = team2Name;
        team2ScoreDisplay.innerText = team2Score;
        team2SOGDisplay.innerText = team2SOG;

        //Setting Color
        document.getElementById("team1Background").style.background = [team1Color];
        document.getElementById("team1PPBackground").style.background = [team1Color];

        document.getElementById("team2Background").style.background = [team2Color];
        document.getElementById("team2PPBackground").style.background = [team2Color];

        //Setting Logo
        document.getElementById('team1LogoDisplay').src = team1Logo;
        document.getElementById('team2LogoDisplay').src = team2Logo;


        //Shootout


        timingUpdate();
    }

    function timingUpdate() {

        CurrentPeriodDisplay.innerText = CurrentPeriod;

        //Clear animation classes
        document.getElementById("team1PPBackground").classList.remove('animate__animated', 'animate__slideInUp',
            'animate__slideOutDown');
        document.getElementById("team2PPBackground").classList.remove('animate__animated', 'animate__slideInDown',
            'animate__slideOutUp');

        //Check values and set the text (will have to figure out timer later)
        if (team1PPStatus == 'Inactive') {

            document.getElementById("team1PPBackground").classList.add('animate__animated', 'animate__slideOutDown');
        } else {
            document.getElementById("team1PPBackground").classList.add('animate__animated', 'animate__slideInUp');
            team1PPTextDisplay.innerText = team1PPStatus;

        }

        if (team2PPStatus == 'Inactive') {

            document.getElementById("team2PPBackground").classList.add('animate__animated', 'animate__slideOutUp');
        } else {
            document.getElementById("team2PPBackground").classList.add('animate__animated', 'animate__slideInDown');
            team2PPTextDisplay.innerText = team2PPStatus;

        }

        //Timer?


    }





</script>






</html>